(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c281a12"],{1558:function(e,t,i){"use strict";var o=i("ae6c"),n=i.n(o);n.a},1784:function(e,t,i){"use strict";var o=i("1c8b"),n=i("58d8").left,s=i("d7e1"),r=i("ff9c"),a=s("reduce"),l=r("reduce",{1:0});o({target:"Array",proto:!0,forced:!a||!l},{reduce:function(e){return n(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},ae6c:function(e,t,i){},dc3f:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login-wrap dis-fl ju-ct al-ct wd100 hg100"},[i("div",{staticClass:"login-box bo-r6 pd20"},[i("div",{staticClass:"te-ct fs18 ft-b pd-b20"},[e._v("台球+后台管理系统")]),i("el-form",{ref:"login",attrs:{model:e.login,rules:e.loginRules}},[i("el-form-item",{attrs:{prop:"user"}},[i("el-input",{attrs:{maxlength:"20",placeholder:"请输入账号"},model:{value:e.login.user,callback:function(t){e.$set(e.login,"user",t)},expression:"login.user"}})],1),i("el-form-item",{attrs:{prop:"password"}},[i("el-input",{attrs:{maxlength:"20",type:"password",placeholder:"请输入密码"},model:{value:e.login.password,callback:function(t){e.$set(e.login,"password",t)},expression:"login.password"}})],1),i("el-form-item",{attrs:{prop:"authCode"}},[i("div",{staticClass:"dis-fl auth-wrap"},[i("el-input",{staticClass:"auth-input",attrs:{maxlength:"20",placeholder:"请输入验证码"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitLogin("login")}},model:{value:e.login.authCode,callback:function(t){e.$set(e.login,"authCode",t)},expression:"login.authCode"}}),i("div",{staticClass:"auth-code",attrs:{title:"点击更换验证码"},on:{click:e.getAuthCode}},[i("img",{staticClass:"wd100 hg100 cu-pt",attrs:{src:e.verificationCode,alt:"验证码"}})])],1)]),i("el-form-item",[i("el-button",{staticClass:"wd100",attrs:{loading:e.btnLoginState,type:"primary"},on:{click:function(t){return e.submitLogin("login")}}},[e._v("登 录 ")])],1)],1)],1)])},n=[],s=(i("1784"),i("3e54"),i("e18c"),i("8256"),i("ab6e"),i("927c"),i("3c51"),i("db0a"),i("1cc1"),i("ab0f"),i("fc6e"),i("f30b"),i("cfd1"),i("d104"),i("f74a"),i("3598"),i("b497"),i("2909"),i("a7ef"),i("b523"),i("e671"),i("4140"),i("83db"),i("829d"),i("939f"),i("1bb1"),i("c3ba"),i("a593")),r={name:"login",data:function(){return{verificationCode:"",login:{user:"",password:"",authCode:""},loginRules:{user:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],authCode:[{required:!0,message:"请输入验证码",trigger:"blur"}]},activeName:"1",register:{user:"",password:""},btnLoginState:!1}},computed:{},created:function(){var e=this,t=this;s["default"].prototype.WebInstance.On("AdminLoginResult_GC",(function(i){t.btnLoginState=!1,t.getAuthCode(),0===i.errCode&&(localStorage.setItem("userLoginLog",e.login.user+(new Date).getTime()+""),s["default"].prototype.Account=i.account,e.$message.success("登录成功"),e.$router.push("/admin")),console.log("Recv Login :",i)}))},mounted:function(){localStorage.clear(),this.getAuthCode()},methods:{getAuthCode:function(){var e=this,t={with:100,height:40};this.$api.login.getCode(t).then((function(e){return"data:image/png;base64,"+btoa(new Uint8Array(e.data).reduce((function(e,t){return e+String.fromCharCode(t)}),""))})).then((function(t){e.verificationCode=t}))},handleClick:function(e,t){this.login={user:"",password:""},this.register={user:"",password:""},this.$refs["login"].resetFields(),this.$refs["register"].resetFields()},submitLogin:function(e){var t=this;this.$refs[e].validate((function(e){if(e){t.btnLoginState=!0;var i={user:t.login.user,passworld:t.login.password,vertiCode:t.login.authCode};t.$api.socket.login(i)}}))},submitRegister:function(e){this.$refs[e].validate((function(e){}))}},props:{},watch:{},mixins:[],filters:{},components:{}},a=r,l=(i("1558"),i("9ca4")),u=Object(l["a"])(a,o,n,!1,null,"78476ea2",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-0c281a12.6f124fc7.js.map