{"version":3,"sources":["webpack:///./src/views/login/login.vue?0a1f","webpack:///./node_modules/_core-js@3.6.5@core-js/modules/es.array.reduce.js","webpack:///./src/views/login/login.vue?c574","webpack:///src/views/login/login.vue","webpack:///./src/views/login/login.vue?365e","webpack:///./src/views/login/login.vue"],"names":["$","$reduce","left","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","1","target","proto","forced","reduce","callbackfn","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","_v","ref","attrs","login","loginRules","model","value","callback","$$v","$set","expression","on","$event","type","indexOf","_k","keyCode","key","submitLogin","getAuthCode","verificationCode","btnLoginState","staticRenderFns","component"],"mappings":"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","file":"js/chunk-0c281a12.6f124fc7.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=78476ea2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=78476ea2&lang=scss&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-wrap dis-fl ju-ct al-ct wd100 hg100\"},[_c('div',{staticClass:\"login-box bo-r6 pd20\"},[_c('div',{staticClass:\"te-ct fs18 ft-b pd-b20\"},[_vm._v(\"台球+后台管理系统\")]),_c('el-form',{ref:\"login\",attrs:{\"model\":_vm.login,\"rules\":_vm.loginRules}},[_c('el-form-item',{attrs:{\"prop\":\"user\"}},[_c('el-input',{attrs:{\"maxlength\":\"20\",\"placeholder\":\"请输入账号\"},model:{value:(_vm.login.user),callback:function ($$v) {_vm.$set(_vm.login, \"user\", $$v)},expression:\"login.user\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"maxlength\":\"20\",\"type\":\"password\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.login.password),callback:function ($$v) {_vm.$set(_vm.login, \"password\", $$v)},expression:\"login.password\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"authCode\"}},[_c('div',{staticClass:\"dis-fl auth-wrap\"},[_c('el-input',{staticClass:\"auth-input\",attrs:{\"maxlength\":\"20\",\"placeholder\":\"请输入验证码\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submitLogin('login')}},model:{value:(_vm.login.authCode),callback:function ($$v) {_vm.$set(_vm.login, \"authCode\", $$v)},expression:\"login.authCode\"}}),_c('div',{staticClass:\"auth-code\",attrs:{\"title\":\"点击更换验证码\"},on:{\"click\":_vm.getAuthCode}},[_c('img',{staticClass:\"wd100 hg100 cu-pt\",attrs:{\"src\":_vm.verificationCode,\"alt\":\"验证码\"}})])],1)]),_c('el-form-item',[_c('el-button',{staticClass:\"wd100\",attrs:{\"loading\":_vm.btnLoginState,\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitLogin('login')}}},[_vm._v(\"登 录 \")])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login-wrap dis-fl ju-ct al-ct wd100 hg100\">\r\n    <div class=\"login-box bo-r6 pd20\">\r\n      <div class=\"te-ct fs18 ft-b pd-b20\">台球+后台管理系统</div>\r\n      <!--      <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">-->\r\n      <!--        <el-tab-pane label=\"登 录\" name=\"1\">-->\r\n      <el-form :model=\"login\" :rules=\"loginRules\" ref=\"login\">\r\n        <el-form-item prop=\"user\">\r\n          <el-input maxlength=\"20\" v-model=\"login.user\" placeholder=\"请输入账号\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"password\">\r\n          <el-input maxlength=\"20\" v-model=\"login.password\" type=\"password\" placeholder=\"请输入密码\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"authCode\">\r\n          <div class=\"dis-fl auth-wrap\">\r\n            <el-input\r\n              @keydown.enter=\"submitLogin('login')\"\r\n              class=\"auth-input\"\r\n              maxlength=\"20\"\r\n              v-model=\"login.authCode\"\r\n              placeholder=\"请输入验证码\"\r\n            ></el-input>\r\n            <div class=\"auth-code\" title=\"点击更换验证码\" @click=\"getAuthCode\">\r\n              <img class=\"wd100 hg100 cu-pt\" :src=\"verificationCode\" alt=\"验证码\"/>\r\n            </div>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button\r\n            :loading=\"btnLoginState\"\r\n            @click=\"submitLogin('login')\"\r\n            class=\"wd100\"\r\n            type=\"primary\"\r\n          >登 录\r\n          </el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!--        </el-tab-pane>-->\r\n      <!--        <el-tab-pane label=\"注 册\" name=\"2\">-->\r\n      <!--          <el-form :model=\"register\" :rules=\"loginRules\" ref=\"register\">-->\r\n      <!--            <el-form-item prop=\"user\">-->\r\n      <!--              <el-input maxlength=\"20\" v-model=\"register.user\" placeholder=\"请输入账号\"></el-input>-->\r\n      <!--            </el-form-item>-->\r\n      <!--            <el-form-item prop=\"password\">-->\r\n      <!--              <el-input maxlength=\"20\" v-model=\"register.password\" type=\"password\" placeholder=\"请输入密码\"></el-input>-->\r\n      <!--            </el-form-item>-->\r\n      <!--            <el-form-item>-->\r\n      <!--              <el-button @click=\"submitRegister('register')\" class=\"wd100\" type=\"primary\">注 册</el-button>-->\r\n      <!--            </el-form-item>-->\r\n      <!--          </el-form>-->\r\n\r\n      <!--        </el-tab-pane>-->\r\n      <!--      </el-tabs>-->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Vue from \"vue\";\r\n\r\n  export default {\r\n    name: \"login\",\r\n    data() {\r\n      return {\r\n        verificationCode: \"\",\r\n        login: {\r\n          user: \"\",\r\n          password: \"\",\r\n          authCode: \"\"\r\n        },\r\n        loginRules: {\r\n          user: [{required: true, message: \"请输入账号\", trigger: \"blur\"}],\r\n          password: [{required: true, message: \"请输入密码\", trigger: \"blur\"}],\r\n          authCode: [{required: true, message: \"请输入验证码\", trigger: \"blur\"}]\r\n        },\r\n        activeName: \"1\",\r\n        register: {\r\n          user: \"\",\r\n          password: \"\"\r\n        },\r\n        btnLoginState: false\r\n      };\r\n    },\r\n    computed: {},\r\n    created() {\r\n      //TiYi\r\n      let vm = this;\r\n      Vue.prototype.WebInstance.On(\"AdminLoginResult_GC\", d => {\r\n        vm.btnLoginState = false;\r\n        vm.getAuthCode();\r\n\r\n        if (d.errCode === 0) {\r\n          localStorage.setItem(\r\n            \"userLoginLog\",\r\n            this.login.user + new Date().getTime() + \"\"\r\n          );\r\n          Vue.prototype.Account = d.account;\r\n          this.$message.success(\"登录成功\");\r\n          this.$router.push(\"/admin\");\r\n        }\r\n\r\n        console.log(\"Recv Login :\", d);\r\n      });\r\n    },\r\n    mounted() {\r\n      localStorage.clear();\r\n      this.getAuthCode();\r\n    },\r\n    methods: {\r\n      //获取验证码\r\n      getAuthCode() {\r\n        let params = {\r\n          with: 100,\r\n          height: 40\r\n        };\r\n        this.$api.login\r\n          .getCode(params)\r\n          .then(res => {\r\n            return (\r\n              \"data:image/png;base64,\" +\r\n              btoa(\r\n                new Uint8Array(res.data).reduce(\r\n                  (data, byte) => data + String.fromCharCode(byte),\r\n                  \"\"\r\n                )\r\n              )\r\n            );\r\n          })\r\n          .then(data => {\r\n            this.verificationCode = data;\r\n          });\r\n      },\r\n      //切换选项卡\r\n      handleClick(tab, event) {\r\n        this.login = {\r\n          user: \"\",\r\n          password: \"\"\r\n        };\r\n        this.register = {\r\n          user: \"\",\r\n          password: \"\"\r\n        };\r\n        this.$refs[\"login\"].resetFields();\r\n        this.$refs[\"register\"].resetFields();\r\n      },\r\n      //点击登录\r\n      submitLogin(formName) {\r\n        this.$refs[formName].validate(valid => {\r\n          if (valid) {\r\n            this.btnLoginState = true;\r\n            /*\r\n              let params = {\r\n                account: this.login.user,\r\n                password: this.login.password,\r\n                randcheckcode: this.login.authCode,\r\n              };\r\n              this.$api.login.selectUser(params).then(res => {\r\n                this.btnLoginState = false;\r\n                this.getAuthCode();\r\n                if (res.data.resultCode === 0) {\r\n                  localStorage.setItem('userLoginLog', this.login.user + new Date().getTime() + '');\r\n                  this.$message.success('登录成功');\r\n                  this.$router.push('/admin');\r\n                }\r\n              });\r\n              */\r\n\r\n            let vm = this;\r\n\r\n            let params = {\r\n              user: this.login.user,\r\n              passworld: this.login.password,\r\n              vertiCode: this.login.authCode\r\n            };\r\n            this.$api.socket.login(params);\r\n\r\n            // Vue.prototype.WebInstance.On(\"AdminLoginResult_GC\", d => {\r\n            //   vm.btnLoginState = false;\r\n            //   vm.getAuthCode();\r\n\r\n            //   if (d.errCode === 0) {\r\n            //     localStorage.setItem(\r\n            //       \"userLoginLog\",\r\n            //       this.login.user + new Date().getTime() + \"\"\r\n            //     );\r\n\r\n            //     this.$message.success(\"登录成功\");\r\n            //     this.$router.push(\"/admin\");\r\n            //   }\r\n\r\n            //   console.log(\"Recv Login :\", d);\r\n            // });\r\n          }\r\n        });\r\n      },\r\n      //点击注册\r\n      submitRegister(formName) {\r\n        this.$refs[formName].validate(valid => {\r\n          if (valid) {\r\n          }\r\n        });\r\n      }\r\n    },\r\n    props: {},\r\n    watch: {},\r\n    mixins: [],\r\n    filters: {},\r\n    components: {}\r\n  };\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .login-wrap {\r\n    background-image: url(\"../../assets/img/login-bg.jpg\");\r\n    background-size: 100% 100%;\r\n    background-repeat: no-repeat;\r\n\r\n    & > .login-box {\r\n      width: 300px;\r\n      height: auto;\r\n      background: #ffffff;\r\n\r\n      .auth-wrap {\r\n        .auth-input {\r\n          width: 150px;\r\n        }\r\n\r\n        .auth-code {\r\n          width: 100px;\r\n          height: 40px;\r\n          margin-left: 10px;\r\n          border-radius: 4px;\r\n          border: 1px solid #dcdfe6;\r\n        }\r\n      }\r\n    }\r\n\r\n    /deep/ .el-tabs__nav {\r\n      width: 100%;\r\n\r\n      .el-tabs__item {\r\n        width: 50%;\r\n        padding: 0 !important;\r\n        text-align: center;\r\n      }\r\n\r\n      .el-tabs__active-bar {\r\n        width: 50% !important;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=78476ea2&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=78476ea2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78476ea2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}